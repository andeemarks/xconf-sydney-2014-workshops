# Generated by Puppet
<% unless @fqdnlookup %>
Hostname <%= scope.lookupvar('::hostname') %>
FQDNLookup false
<% else %>
#Hostname localhost
FQDNLookup true
<% end %>
#BaseDir "/opt/collectd/var/lib/collectd"
PluginDir "/opt/collectd/lib/collectd"
<% if @typesdb and not @typesdb.empty? -%>
TypesDB<% @typesdb.each do |path| -%> "<%= path %>"<% end %>
<% else -%>
#TypesDB "/usr/share/collectd/types.db" "/etc/collectd/my_types.db"
<% end -%>
Interval <%= @interval %>
Timeout <%= @timeout %>
ReadThreads <%= @threads %>
#Include "<%= @plugin_conf_dir %>/*.conf"
LoadPlugin syslog
LoadPlugin cpu
LoadPlugin rrdtool
<Plugin rrdtool>
  DataDir "/opt/collectd/var/lib/collectd/rrd"
  CreateFilesAsync false
  RRARows 1200
  RRATimeSpan 3600
  RRATimeSpan 86400
  RRATimeSpan 604800
  RRATimeSpan 2678400
  RRATimeSpan 31622400
  XFF 0.1
  CacheFlush 900
  CacheTimeout 120
  WritesPerSecond 50
</Plugin>
LoadPlugin write_riemann
<Plugin "write_riemann">
  <Node "default">
    Host "<%= @riemann_host  %>"
    Port "<%= @riemann_port  %>"
    Protocol <%= @protocol %>
    StoreRates <%= @store_rates %>
    AlwaysAppendDS <%= @always_append_ds %>
  </Node>
</Plugin>
